{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js"],"sourcesContent":["\n// функція musclesGroup() для того щоб знайти мязи що на першій кнопці Muscles у exercises\n\n\n\n// те що нижче виділене крапками нижче як має працювати у потрібному файлі ця функція на потрібно поставити айдішки на img і при кліку на них відповідна айді abs виводить усі можливі вправи де target element є abs ознайомтесь з json кодом нижче\n\n// 0:\n//     bodyPart: \"waist\"\n//     burnedCalories: 220\n//     description: \"This refers to your core muscles, which include the rectus abdominis, obliques, and transverse abdominis. They're essential for maintaining posture, stability, and generating force in many movements. Exercises that target the abs include crunches, leg raises, and planks.\"\n//     equipment: \"body weight\"\n//     gifUrl: \"https://ftp.goit.study/img/power-pulse/gifs/0001.gif\"\n//     name: \"3/4 sit-up\"\n//     popularity: 7640\n//     rating: 3.18\n//     target: \"abs\"\n//     time: 3\n//     _id: \"64f389465ae26083f39b17a2\"\n//     [[Prototype]]: Object\n\n// це один з багатьох елементів що виводиться в консоль при кліку на елемент в якого айді abs\n\n//...............................................................\n\n// import { fetchData } from 'шлях до api файла';\n\n// const button = document.querySelector('.buttons');\n// це був просто список (ul) кнопок у моєму тестовому репозиторії а вже в цьому списку знаходились елементи з айдішкасми мязів\n\n\n// button.addEventListener('click', async (event) => {\n//     event.preventDefault();\n\n//     try {\n//         const results = await fetchData(event);\n//         // You can now work with the 'results' variable here\n\n//     } catch (error) {\n//         console.error('Error in fetchData:', error);\n//     }\n// });\n//...............................................................\n\nexport async function musclesGroup(event) {\n    let currentPage = 1;\n    const limit = 8;\n    let searchQuery = '';\n    let allHits = [];\n    let isFirstLoad = true;\n\n    try {\n        searchQuery = encodeURIComponent(event.target.id);\n        console.log(searchQuery);\n\n        const url = `https://energyflow.b.goit.study/api/exercises?muscles=${searchQuery}&page=${currentPage}&limit=${limit}`;\n        const response = await fetch(url);\n\n        if (response.status !== 200) {\n            throw new Error('Failed to fetch data. Please try again later.');\n        }\n\n        const resultPromise = response.json();\n        const results = await resultPromise;\n\n        console.log(results);\n\n        if (results.length === 0) {\n            throw new Error('No data found. Please try a different search term.');\n        }\n\n        return results;\n\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        throw error;\n    }\n}\n\nconst url = 'https://energyflow.b.goit.study/api/exercises';\nlet currentPage = 1;\nlet totalPages = 1;\nconst perPage = 10;\nconst allData = [];\n\n\nasync function searchBodyPart() {\n    try {\n        while (currentPage <= totalPages) {\n            const params = new URLSearchParams({ page: currentPage, perPage });\n\n            const response = await fetch(`${url}?${params}`);\n\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n\n            const data = await response.json();\n            totalPages = data.totalPages;\n\n\n            const relevantObjects = data.results.filter(obj => obj.bodyPart === 'waist');  // replace '' with what you search \n            allData.push(...relevantObjects);\n\n            currentPage++;\n            console.log(currentPage);\n        }\n        return allData;\n    } catch (error) {\n        console.error('There was a problem with the fetch operation:', error);\n        throw error; \n    }\n}\n\nsearchBodyPart()\n    .then(data => {\n        console.log(data)\n    })\n    .catch(error => {\n        console.error('Error outside fetchAllData function:', error);\n    });\n\n\n\n"],"names":["url","currentPage","totalPages","perPage","allData","searchBodyPart","params","response","data","relevantObjects","obj","error"],"mappings":"ssBA+EA,MAAMA,EAAM,gDACZ,IAAIC,EAAc,EACdC,EAAa,EACjB,MAAMC,EAAU,GACVC,EAAU,CAAA,EAGhB,eAAeC,GAAiB,CAC5B,GAAI,CACA,KAAOJ,GAAeC,GAAY,CAC9B,MAAMI,EAAS,IAAI,gBAAgB,CAAE,KAAML,EAAa,QAAAE,CAAO,CAAE,EAE3DI,EAAW,MAAM,MAAM,GAAGP,CAAG,IAAIM,CAAM,EAAE,EAE/C,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAGjD,MAAMC,EAAO,MAAMD,EAAS,OAC5BL,EAAaM,EAAK,WAGlB,MAAMC,EAAkBD,EAAK,QAAQ,OAAOE,GAAOA,EAAI,WAAa,OAAO,EAC3EN,EAAQ,KAAK,GAAGK,CAAe,EAE/BR,IACA,QAAQ,IAAIA,CAAW,CAC1B,CACD,OAAOG,CACV,OAAQO,EAAO,CACZ,cAAQ,MAAM,gDAAiDA,CAAK,EAC9DA,CACT,CACL,CAEAN,EAAgB,EACX,KAAKG,GAAQ,CACV,QAAQ,IAAIA,CAAI,CACxB,CAAK,EACA,MAAMG,GAAS,CACZ,QAAQ,MAAM,uCAAwCA,CAAK,CACnE,CAAK"}