{"version":3,"file":"formFooter-80dfdfa8.js","sources":["../../src/js/formFooter.js"],"sourcesContent":["\nconst form = document.querySelector('.subs-form');\n\nform.addEventListener('input', saveToStorage);\nform.addEventListener('submit', submitHandler);\n\nfunction saveToStorage(e) {\n  e.preventDefault();\n\n  const emailInput = form.querySelector('.subs-input');\n  const email = emailInput.value.trim();\n\n  if (!isValidEmail(email)) {\n    return;\n  }\n\n  const providedData = JSON.stringify({ email: email });\n\n  const storageKey = 'subscription-form-state';\n  localStorage.setItem(storageKey, providedData);\n}\n\nfunction isValidEmail(email) {\n  const emailPattern = /^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/;\n  return emailPattern.test(email);\n}\n\nwindow.addEventListener('load', fillFormFields);\n\nfunction fillFormFields(e) {\n  e.preventDefault();\n\n  const inStorage = localStorage.getItem('subscription-form-state');\n\n  if (inStorage) {\n    const storedData = JSON.parse(inStorage);\n    form.querySelector('.subs-input').value = storedData.email;\n  } else {\n    form.querySelector('.subs-input').value = '';\n  }\n}\n\nfunction submitHandler(e) {\n  e.preventDefault();\n\n  const inStorage = localStorage.getItem('subscription-form-state');\n  const emailInput = form.querySelector('.subs-input');\n\n  if (inStorage) {\n    const storedData = JSON.parse(inStorage);\n    console.log(storedData);\n  } else {\n    console.log({ email: emailInput.value.trim() });\n  }\n\n  localStorage.removeItem('subscription-form-state');\n  form.reset();\n\n}"],"names":["form","saveToStorage","submitHandler","email","isValidEmail","providedData","storageKey","fillFormFields","inStorage","storedData","emailInput"],"mappings":"AACA,MAAMA,EAAO,SAAS,cAAc,YAAY,EAEhDA,EAAK,iBAAiB,QAASC,CAAa,EAC5CD,EAAK,iBAAiB,SAAUE,CAAa,EAE7C,SAASD,EAAc,EAAG,CACxB,EAAE,eAAc,EAGhB,MAAME,EADaH,EAAK,cAAc,aAAa,EAC1B,MAAM,KAAI,EAEnC,GAAI,CAACI,EAAaD,CAAK,EACrB,OAGF,MAAME,EAAe,KAAK,UAAU,CAAE,MAAOF,CAAK,CAAE,EAE9CG,EAAa,0BACnB,aAAa,QAAQA,EAAYD,CAAY,CAC/C,CAEA,SAASD,EAAaD,EAAO,CAE3B,MADqB,+CACD,KAAKA,CAAK,CAChC,CAEA,OAAO,iBAAiB,OAAQI,CAAc,EAE9C,SAASA,EAAe,EAAG,CACzB,EAAE,eAAc,EAEhB,MAAMC,EAAY,aAAa,QAAQ,yBAAyB,EAEhE,GAAIA,EAAW,CACb,MAAMC,EAAa,KAAK,MAAMD,CAAS,EACvCR,EAAK,cAAc,aAAa,EAAE,MAAQS,EAAW,KACzD,MACIT,EAAK,cAAc,aAAa,EAAE,MAAQ,EAE9C,CAEA,SAASE,EAAc,EAAG,CACxB,EAAE,eAAc,EAEhB,MAAMM,EAAY,aAAa,QAAQ,yBAAyB,EAC1DE,EAAaV,EAAK,cAAc,aAAa,EAEnD,GAAIQ,EAAW,CACb,MAAMC,EAAa,KAAK,MAAMD,CAAS,EACvC,QAAQ,IAAIC,CAAU,CAC1B,MACI,QAAQ,IAAI,CAAE,MAAOC,EAAW,MAAM,KAAM,CAAA,CAAE,EAGhD,aAAa,WAAW,yBAAyB,EACjDV,EAAK,MAAK,CAEZ"}