const o=document.querySelector(".subs-form"),r="user-email";o.elements.email.value=localStorage.getItem(r)??"";o.addEventListener("input",a);function a(t){localStorage.setItem(r,t.target.value)}function n(t){fetch("https://energyflow.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emails:[t]})}).then(e=>{if(!e.ok)throw console.error("Код помилки:",e.status),new Error("Мережевий запит не був успішним");return e.json()}).then(e=>{console.log("Дані успішно відправлені",e)}).catch(e=>{console.error("Помилка при відправленні даних",e)})}o.addEventListener("submit",async t=>{t.preventDefault();const e=localStorage.getItem(r);try{await n(e),localStorage.removeItem(r),o.reset()}catch{console.log("Не знайдено імейл для відправлення.")}});
//# sourceMappingURL=submit-email-footer-1afb5cca.js.map
